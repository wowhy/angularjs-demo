!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b){b.when("","/dashboard").otherwise("/404"),a.state("404",{url:"/404",templateUrl:"app/templates/404.html",data:{pageTitle:"Not Found",pageSubTitle:"404"}}).state("dashboard",{url:"/dashboard",templateUrl:"app/modules/index/dashboard.html",data:{pageTitle:"仪表板",pageSubTitle:"统计 & 报表"},controller:"dashboardController"}).state("user",{url:"/rms/user",templateUrl:"app/modules/user/user-list.html",data:{pageTitle:"用户管理",pageSubTitle:"列表"},controller:"userController"})}function e(a,b){a.menus=[],b.authorizationMenus().then(function(b){a.menus=b})}function f(a,b,c){a.$state=b,a.setting=c}angular.module("example.utility",["ui.router","ui.bootstrap"]),angular.module("example.service",["example.utility"]),angular.module("example.controller",["example.service","example.utility","ui.router","ui.bootstrap"]),angular.module("example",["example.controller","example.service","example.utility","ui.router","ui.bootstrap","ui.grid","ui.grid.pagination"]).config(["$stateProvider","$urlRouterProvider",d]).controller("appController",["$scope","menuService",e]).run(["$rootScope","$state","setting",f]),a("./modules"),a("./components")},{"./components":2,"./modules":3}],2:[function(a,b,c){!function d(b,c,e){function f(h,i){if(!c[h]){if(!b[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=c[h]={exports:{}};b[h][0].call(l.exports,function(a){var c=b[h][1][a];return f(c?c:a)},l,l.exports,d,b,c,e)}return c[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){function d(a,b){this.authorizationMenus=function(){var a=[{name:"仪表板",url:"/dashboard"},{name:"权限管理系统",menus:[{name:"用户管理",url:"/rms/user"}]}],c=b.defer();return setTimeout(function(){c.resolve(a)},200),c.promise}}angular.module("example.service").service("menuService",["$http","$q",d])},{}],2:[function(a,b,c){function d(a,b){this.add=function(b){var c={Code:b.Code,Name:b.Name,Email:b.Email,CreatedOn:new Date,Status:1};return a({method:"POST",url:"http://localhost:45020/DataService.svc/Users",data:c}).then(function(a){var b={};return 201==a.status?(b.success=!0,b.message="添加成功！"):(b.success=!1,b.message=a.data),b})},this.edit=function(b){var c={Code:b.Code,Name:b.Name,Email:b.Email};return a({method:"PATCH",url:"http://localhost:45020/DataService.svc/Users("+b.Id+")",data:c}).then(function(a){var b={};return 204==a.status||200==a.status?(b.success=!0,b.message="修改成功！"):(b.success=!1,b.message=a.data),b})},this.removeById=function(b){return a({method:"DELETE",url:"http://localhost:45020/DataService.svc/Users("+b+")"}).then(function(a){var b={};return 204==a.status||200==a.status?(b.success=!0,b.message="删除成功！"):(b.success=!1,b.message=a.data),b})},this.getById=function(b){return a.get("http://localhost:45020/DataService.svc/Users("+b+")").then(function(a){return a.data})},this.search=function(c,d,e){var f=a.get("http://localhost:45020/DataService.svc/Users/$count"),g=a.get("http://localhost:45020/DataService.svc/Users",{params:{$skip:(c-1)*d,$top:d}});return b.all([f,g]).then(function(a){return{total:parseInt(a[0].data),data:a[1].data.value}})}}angular.module("example.service").service("userService",["$http","$q",d])},{}],3:[function(a,b,c){function d(a,b){var c={};return c.confirm=function(b){return b.ok||(b.ok="确定"),b.cancel||(b.cancel="取消"),a.open({templateUrl:"app/templates/confirm.html",backdrop:"static",controller:["$scope","$modalInstance","args",function(a,b,c){a.ok=function(){b.close(!0)},a.cancel=function(){b.close(!1)},a.model=c}],resolve:{args:function(){return b}}}).result},c.notify=function(a,b){alert(a)},c}angular.module("example.utility").factory("msg",["$uibModal",d])},{}],4:[function(a,b,c){function d(){var a={applicationName:"培训管理系统"};return a}angular.module("example.utility").factory("setting",[d])},{}]},{},[1,2,3,4])},{}],3:[function(a,b,c){!function d(b,c,e){function f(h,i){if(!c[h]){if(!b[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=c[h]={exports:{}};b[h][0].call(l.exports,function(a){var c=b[h][1][a];return f(c?c:a)},l,l.exports,d,b,c,e)}return c[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){function d(a){}angular.module("example.controller").controller("aboutController",["$scope",d])},{}],2:[function(a,b,c){function d(a,b){}angular.module("example.controller").controller("dashboardController",["$scope","msg",d])},{}],3:[function(a,b,c){function d(a,b,c){a.list=[],a.gridOptions={data:"list",columnDefs:[{field:"Code",displayName:"用户代码",width:"20%"},{field:"Name",displayName:"姓名",width:"*"},{field:"Email",displayName:"邮箱",width:"30%"},{field:"Status",displayName:"状态",width:80,cellFilter:"userStatus"}]},b.search(1,100,{}).then(function(b){a.list=b.data})}angular.module("example.controller").filter("userStatus",[function(){return function(a){switch(a){case 1:return"有效";default:return"无效"}}}]).controller("userController",["$scope","userService","msg",d])},{}]},{},[1,2,3])},{}]},{},[1]);