!function(a,b){"use strict";var c=b.module("hng",["ui.router","ui.bootstrap"]);c.constant("hngConfig",{}),c.service("hngCore",[function(){this.service={},this.utility={}}]),function(a){a.factory("hngGuid",[function(){return{newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})}}}])}(c),function(a){function c(a,c){var d={},e={templateUrl:"/hfefx/template/confirm.html",backdrop:"static",title:"提示消息",ok:"确定",cancel:"取消"},f={templateUrl:"/hfefx/template/alert.html",backdrop:"static",keyboard:!1,size:"sm",title:"提示消息",close:"关闭"},g={templateUrl:"/hfefx/template/prompt.html",backdrop:"static",title:"提示消息",ok:"确定",cancel:"取消"},h={templateUrl:"/hfefx/template/progress.html",backdrop:"static",keyboard:!1,size:"sm",title:"进度提示"};return d.confirm=function(d,f,g){0==arguments.length?d=value=f="":(g=b.isFunction(arguments[arguments.length-1])?arguments[arguments.length-1]:function(a){return a},f=f?f:e.title);var h={text:d,title:f,ok:e.ok,cancel:e.cancel},i=b.extend({},e,{scope:a.$new()});return i.scope.$dialog=h,c.open(i).result.then(g)},d.alert=function(d,e,g){0==arguments.length?d=value=e="":(g=b.isFunction(arguments[arguments.length-1])?arguments[arguments.length-1]:function(a){return a},e=e?e:f.title);var h={text:d,title:e,close:f.close},i=b.extend({},f,{scope:a.$new()});return i.scope.$dialog=h,c.open(i).result.then(g)},d.notify=function(){},d.prompt=function(d,e,f,h){0==arguments.length?d=e=f="":(h=b.isFunction(arguments[arguments.length-1])?arguments[arguments.length-1]:function(a){return a},e=e?e:"",f=f?f:g.title);var i={text:d,value:e,title:f,ok:g.ok,cancel:g.cancel},j=b.extend({},g,{scope:a.$new()});return j.scope.$dialog=i,c.open(j).result.then(function(a){return h(a===!1?null:a)})},d.progress=function(d,e){function f(d,e){var f=b.extend({},h,{scope:a.$new()}),g=f.scope;g.safeApply=function(a){var b=this.$root.$$phase;"$apply"==b||"$digest"==b?a&&"function"==typeof a&&a():this.$apply(a)};var i=g.$progress={title:d,stacked:[],max:e},j=c.open(f);return j.setValue=function(a,b){g.safeApply(function(){for(var c=0;c<i.stacked.length;c++){var d=i.stacked[c];if(d.type==a)return void(d.value=b)}i.stacked.push({type:a,value:b})}),this.getValue()>=e&&this.complete()},j.getValue=function(a){if(void 0!==a){for(var c=0;c<i.stacked.length;c++){var d=i.stacked[c];if(d.type==a)return d.value}return 0}var e=0;return b.forEach(i.stacked,function(a){e+=a.value}),e},j.increment=function(a){a=a||"success",this.setValue(a,this.getValue(a)+1)},j.complete=function(){this.close(!0)},j}return d=d?d:h.title,e=b.isNumber(e)?e:100,f(d,e)},d}a.factory("hngMsg",["$rootScope","$uibModal",c])}(c),function(b){function c(){return e("localStorage")}function d(){return e("sessionStorage")}function e(b){function c(){try{return h in d&&d[h]}catch(a){return!1}}var d=a;if(e._storeCache=e._storeCache||{},e._storeCache[b])return e._storeCache[b];var f,g={},h=(d.document,b);if(g.disabled=!1,g.serialize=function(a){return JSON.stringify(a)},g.deserialize=function(a){if("string"==typeof a)try{return JSON.parse(a)}catch(b){return a||void 0}},c()){g.supported=!0,f=d[h],g.set=function(a,b){return void 0===b?g.remove(a):(f.setItem(a,g.serialize(b)),b)},g.get=function(a){return g.deserialize(f.getItem(a))},g.remove=function(a){f.removeItem(a)},g.clear=function(){f.clear()},g.getAll=function(){var a={};return g.forEach(function(b,c){a[b]=c}),a},g.forEach=function(a){for(var b=0;b<f.length;b++){var c=f.key(b);a(c,g.get(c))}};try{var i="__storejs__";g.set(i,i),g.get(i)!=i&&(g.disabled=!0),g.remove(i)}catch(j){g.disabled=!0}g.enabled=!g.disabled}else g.supported=!1,g.enabled=!1;return e._storeCache[b]=g,g}b.factory("hngLocalStorage",[c]),b.factory("hngSessionStorage",[d])}(c),b.module("hng").run(["$templateCache",function(a){a.put("/hfefx/template/alert.html",'<div class="modal-header"><h4 class="modal-title">{{ $dialog.title }}&nbsp;</h4></div><div class="modal-body"><p>{{ $dialog.text }}</p></div><div class="modal-footer"><button type="submit" dlg-focus ng-click="$close()" class="btn btn-primary">{{ $dialog.close }}</button></div>'),a.put("/hfefx/template/confirm.html",'<div class="modal-header"><button type="button" class="close" ng-click="$close(false)" aria-hidden="true">×</button><h4 class="modal-title">{{ $dialog.title }}&nbsp;</h4></div><div class="modal-body"><p>{{ $dialog.text }}</p></div><div class="modal-footer"><button type="submit" dlg-focus ng-click="$close(true)" class="btn btn-primary">{{ $dialog.ok }}</button> <button ng-click="$close(false)" class="btn btn-default">{{ $dialog.cancel }}</button></div>'),a.put("/hfefx/template/progress.html",'<div class="modal-header"><h4 class="modal-title">{{ $progress.title }}&nbsp;</h4></div><div class="modal-body"><uib-progress max="$progress.max"><uib-bar ng-repeat="bar in $progress.stacked track by $index" value="bar.value" type="{{bar.type}}"><span>{{bar.value}}</span></uib-bar></uib-progress></div>'),a.put("/hfefx/template/prompt.html",'<div class="modal-header"><button type="button" class="close" ng-click="$close(false)" aria-hidden="true">×</button><h4 class="modal-title">{{ $dialog.title }}&nbsp;</h4></div><form><div class="modal-body"><p>{{ $dialog.text }}</p><input class="form-control" dlg-focus ng-model="$dialog.value"></div><div class="modal-footer"><button type="submit" ng-click="$close($dialog.value)" class="btn btn-primary">{{ $dialog.ok }}</button> <button ng-click="$close(false)" class="btn btn-default">{{ $dialog.cancel }}</button></div></form>')}])}(window,angular);